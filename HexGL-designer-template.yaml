AWSTemplateFormatVersion: 2010-09-09
Metadata:
  'AWS::CloudFormation::Designer':
    43718acb-32c0-4e23-abf8-e2a433524f96:
      size:
        width: 1440
        height: 1560
      position:
        x: 1630
        'y': -260
      z: 1
      embeds:
        - c56d1c0c-e499-4297-9d46-99ef44505fe1
        - c0f4fd61-30a1-4ba8-b0aa-cf5fae2390f7
        - 75a5b67a-c184-445e-9801-5506d649bfd8
        - 0be7db60-4744-49d4-96c2-ace98c0f8a9f
        - 7ed48152-da52-42a3-b631-4eac0bbf2c4a
        - f2fada0a-2404-4191-901b-6614c308ad3d
        - deef4937-4ed1-4461-85ff-89c9805e4688
        - e94e30ed-cac5-4755-88a0-1f185720b0c0
        - 4f0be69a-0f24-4972-9dd0-378c9a234405
    f2fada0a-2404-4191-901b-6614c308ad3d:
      size:
        width: 60
        height: 60
      position:
        x: 1660
        'y': -230
      z: 2
      parent: 43718acb-32c0-4e23-abf8-e2a433524f96
      embeds: []
      iscontainedinside:
        - 43718acb-32c0-4e23-abf8-e2a433524f96
        - 43718acb-32c0-4e23-abf8-e2a433524f96
        - 43718acb-32c0-4e23-abf8-e2a433524f96
        - 43718acb-32c0-4e23-abf8-e2a433524f96
        - 43718acb-32c0-4e23-abf8-e2a433524f96
        - 43718acb-32c0-4e23-abf8-e2a433524f96
    7ed48152-da52-42a3-b631-4eac0bbf2c4a:
      size:
        width: 150
        height: 150
      position:
        x: 2180
        'y': -180
      z: 2
      parent: 43718acb-32c0-4e23-abf8-e2a433524f96
      embeds: []
      iscontainedinside:
        - 43718acb-32c0-4e23-abf8-e2a433524f96
        - 43718acb-32c0-4e23-abf8-e2a433524f96
        - 43718acb-32c0-4e23-abf8-e2a433524f96
        - 43718acb-32c0-4e23-abf8-e2a433524f96
        - 43718acb-32c0-4e23-abf8-e2a433524f96
    259b5a70-d450-49e8-b24b-7df8193d3beb:
      size:
        width: 60
        height: 60
      position:
        x: 240
        'y': 420
      z: 1
      embeds: []
    4f0be69a-0f24-4972-9dd0-378c9a234405:
      size:
        width: 380
        height: 320
      position:
        x: 1840
        'y': 30
      z: 2
      parent: 43718acb-32c0-4e23-abf8-e2a433524f96
      embeds:
        - 887459f7-6fc0-480d-bdfe-0160074ec729
        - 74af15df-e886-4bb2-a3dc-1e65d7d44802
      iscontainedinside:
        - 43718acb-32c0-4e23-abf8-e2a433524f96
    deef4937-4ed1-4461-85ff-89c9805e4688:
      size:
        width: 390
        height: 360
      position:
        x: 2510
        'y': 10
      z: 2
      parent: 43718acb-32c0-4e23-abf8-e2a433524f96
      embeds:
        - 31d52552-bec7-4ca8-b8da-2cceb9ebc3ef
      iscontainedinside:
        - 43718acb-32c0-4e23-abf8-e2a433524f96
        - 43718acb-32c0-4e23-abf8-e2a433524f96
        - 43718acb-32c0-4e23-abf8-e2a433524f96
        - 43718acb-32c0-4e23-abf8-e2a433524f96
        - 43718acb-32c0-4e23-abf8-e2a433524f96
        - 43718acb-32c0-4e23-abf8-e2a433524f96
    e94e30ed-cac5-4755-88a0-1f185720b0c0:
      size:
        width: 380
        height: 350
      position:
        x: 2520
        'y': 500
      z: 2
      parent: 43718acb-32c0-4e23-abf8-e2a433524f96
      embeds:
        - fd4197c6-196b-43ce-bd17-5a5809781b81
      iscontainedinside:
        - 43718acb-32c0-4e23-abf8-e2a433524f96
        - 43718acb-32c0-4e23-abf8-e2a433524f96
        - 43718acb-32c0-4e23-abf8-e2a433524f96
        - 43718acb-32c0-4e23-abf8-e2a433524f96
        - 43718acb-32c0-4e23-abf8-e2a433524f96
        - 43718acb-32c0-4e23-abf8-e2a433524f96
    31d52552-bec7-4ca8-b8da-2cceb9ebc3ef:
      size:
        width: 60
        height: 60
      position:
        x: 2570
        'y': 240
      z: 3
      parent: deef4937-4ed1-4461-85ff-89c9805e4688
      embeds: []
      iscontainedinside:
        - deef4937-4ed1-4461-85ff-89c9805e4688
        - deef4937-4ed1-4461-85ff-89c9805e4688
        - deef4937-4ed1-4461-85ff-89c9805e4688
        - deef4937-4ed1-4461-85ff-89c9805e4688
        - deef4937-4ed1-4461-85ff-89c9805e4688
        - deef4937-4ed1-4461-85ff-89c9805e4688
    fd4197c6-196b-43ce-bd17-5a5809781b81:
      size:
        width: 60
        height: 60
      position:
        x: 2580
        'y': 560
      z: 3
      parent: e94e30ed-cac5-4755-88a0-1f185720b0c0
      embeds: []
      iscontainedinside:
        - e94e30ed-cac5-4755-88a0-1f185720b0c0
        - e94e30ed-cac5-4755-88a0-1f185720b0c0
        - e94e30ed-cac5-4755-88a0-1f185720b0c0
        - e94e30ed-cac5-4755-88a0-1f185720b0c0
        - e94e30ed-cac5-4755-88a0-1f185720b0c0
        - e94e30ed-cac5-4755-88a0-1f185720b0c0
    887459f7-6fc0-480d-bdfe-0160074ec729:
      size:
        width: 60
        height: 60
      position:
        x: 1980
        'y': 120
      z: 3
      parent: 4f0be69a-0f24-4972-9dd0-378c9a234405
      embeds: []
      iscontainedinside:
        - 4f0be69a-0f24-4972-9dd0-378c9a234405
        - 4f0be69a-0f24-4972-9dd0-378c9a234405
        - 4f0be69a-0f24-4972-9dd0-378c9a234405
        - 4f0be69a-0f24-4972-9dd0-378c9a234405
        - 4f0be69a-0f24-4972-9dd0-378c9a234405
        - 4f0be69a-0f24-4972-9dd0-378c9a234405
    75a5b67a-c184-445e-9801-5506d649bfd8:
      size:
        width: 60
        height: 60
      position:
        x: 1660
        'y': -200
      z: 2
      parent: 43718acb-32c0-4e23-abf8-e2a433524f96
      embeds: []
    c0f4fd61-30a1-4ba8-b0aa-cf5fae2390f7:
      size:
        width: 60
        height: 60
      position:
        x: 1960
        'y': -230
      z: 2
      parent: 43718acb-32c0-4e23-abf8-e2a433524f96
      embeds: []
    0be7db60-4744-49d4-96c2-ace98c0f8a9f:
      size:
        width: 450
        height: 370
      position:
        x: 1840
        'y': 520
      z: 2
      parent: 43718acb-32c0-4e23-abf8-e2a433524f96
      embeds:
        - dac9805a-3f6a-4d8a-91b0-80ee0b896b86
        - 88ad0774-fdfa-4db0-ad5e-2cd3e41911bd
      iscontainedinside:
        - 43718acb-32c0-4e23-abf8-e2a433524f96
        - 43718acb-32c0-4e23-abf8-e2a433524f96
        - 43718acb-32c0-4e23-abf8-e2a433524f96
        - 43718acb-32c0-4e23-abf8-e2a433524f96
        - 43718acb-32c0-4e23-abf8-e2a433524f96
    88ad0774-fdfa-4db0-ad5e-2cd3e41911bd:
      size:
        width: 60
        height: 60
      position:
        x: 2130
        'y': 610
      z: 3
      parent: 0be7db60-4744-49d4-96c2-ace98c0f8a9f
      embeds: []
      iscontainedinside:
        - 0be7db60-4744-49d4-96c2-ace98c0f8a9f
        - 0be7db60-4744-49d4-96c2-ace98c0f8a9f
        - 0be7db60-4744-49d4-96c2-ace98c0f8a9f
        - 0be7db60-4744-49d4-96c2-ace98c0f8a9f
        - 0be7db60-4744-49d4-96c2-ace98c0f8a9f
    74af15df-e886-4bb2-a3dc-1e65d7d44802:
      size:
        width: 60
        height: 60
      position:
        x: 2060
        'y': 240
      z: 3
      parent: 4f0be69a-0f24-4972-9dd0-378c9a234405
      embeds: []
      iscontainedinside:
        - 4f0be69a-0f24-4972-9dd0-378c9a234405
    dac9805a-3f6a-4d8a-91b0-80ee0b896b86:
      size:
        width: 60
        height: 60
      position:
        x: 1971.2758941052903
        'y': 616.3169170952588
      z: 3
      parent: 0be7db60-4744-49d4-96c2-ace98c0f8a9f
      embeds: []
      iscontainedinside:
        - 0be7db60-4744-49d4-96c2-ace98c0f8a9f
        - 0be7db60-4744-49d4-96c2-ace98c0f8a9f
        - 0be7db60-4744-49d4-96c2-ace98c0f8a9f
        - 0be7db60-4744-49d4-96c2-ace98c0f8a9f
    c56d1c0c-e499-4297-9d46-99ef44505fe1:
      size:
        width: 60
        height: 60
      position:
        x: 2030
        'y': 390
      z: 2
      parent: 43718acb-32c0-4e23-abf8-e2a433524f96
      embeds: []
    50989342-31ee-4779-8150-43bff0e446d5:
      source:
        id: 43718acb-32c0-4e23-abf8-e2a433524f96
      target:
        id: 259b5a70-d450-49e8-b24b-7df8193d3beb
      z: 1
Resources:
  IGHexGL:
    Type: 'AWS::EC2::InternetGateway'
    Properties: {}
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 259b5a70-d450-49e8-b24b-7df8193d3beb
  VPCHexGL:
    Type: 'AWS::EC2::VPC'
    Properties: {}
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 43718acb-32c0-4e23-abf8-e2a433524f96
  SubnetPriv02:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId: !Ref VPCHexGL
    Metadata:
      'AWS::CloudFormation::Designer':
        id: e94e30ed-cac5-4755-88a0-1f185720b0c0
  SubnetPriv01:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId: !Ref VPCHexGL
    Metadata:
      'AWS::CloudFormation::Designer':
        id: deef4937-4ed1-4461-85ff-89c9805e4688
  NATGWHexGL:
    Type: 'AWS::EC2::NatGateway'
    Properties: {}
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 75a5b67a-c184-445e-9801-5506d649bfd8
  VPCCidrHexGL:
    Type: 'AWS::EC2::VPCCidrBlock'
    Properties:
      VpcId: !Ref VPCHexGL
    Metadata:
      'AWS::CloudFormation::Designer':
        id: f2fada0a-2404-4191-901b-6614c308ad3d
  RTHexGL:
    Type: 'AWS::EC2::RouteTable'
    Properties:
      VpcId: !Ref VPCHexGL
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 7ed48152-da52-42a3-b631-4eac0bbf2c4a
  NACLHexGL:
    Type: 'AWS::EC2::NetworkAclEntry'
    Properties: {}
    Metadata:
      'AWS::CloudFormation::Designer':
        id: c0f4fd61-30a1-4ba8-b0aa-cf5fae2390f7
  EC2Bastion:
    Type: 'AWS::EC2::Instance'
    Properties:
      NetworkInterfaces:
        - SubnetId: !Ref PublicSubnet01
        - SubnetId: !Ref PublicSubnet01
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 887459f7-6fc0-480d-bdfe-0160074ec729
  EC2Web01:
    Type: 'AWS::EC2::Instance'
    Properties:
      NetworkInterfaces:
        - SubnetId: !Ref SubnetPriv01
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 31d52552-bec7-4ca8-b8da-2cceb9ebc3ef
  EC2Web02:
    Type: 'AWS::EC2::Instance'
    Properties:
      NetworkInterfaces:
        - SubnetId: !Ref SubnetPriv02
    Metadata:
      'AWS::CloudFormation::Designer':
        id: fd4197c6-196b-43ce-bd17-5a5809781b81
  PublicSubnet01:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId: !Ref VPCHexGL
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 4f0be69a-0f24-4972-9dd0-378c9a234405
  SubnetPublic02:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId: !Ref VPCHexGL
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 0be7db60-4744-49d4-96c2-ace98c0f8a9f
  EC2Bastion02:
    Type: 'AWS::EC2::Instance'
    Properties:
      NetworkInterfaces:
        - SubnetId: !Ref SubnetPublic02
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 88ad0774-fdfa-4db0-ad5e-2cd3e41911bd
  NATGW02:
    Type: 'AWS::EC2::NatGateway'
    Properties:
      SubnetId: !Ref SubnetPublic02
    Metadata:
      'AWS::CloudFormation::Designer':
        id: dac9805a-3f6a-4d8a-91b0-80ee0b896b86
  NATGW01:
    Type: 'AWS::EC2::NatGateway'
    Properties:
      SubnetId: !Ref PublicSubnet01
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 74af15df-e886-4bb2-a3dc-1e65d7d44802
  ELB00:
    Type: 'AWS::ElasticLoadBalancing::LoadBalancer'
    Properties: {}
    Metadata:
      'AWS::CloudFormation::Designer':
        id: c56d1c0c-e499-4297-9d46-99ef44505fe1
  EC2VPCG1TU9V:
    Type: 'AWS::EC2::VPCGatewayAttachment'
    Properties:
      InternetGatewayId: !Ref IGHexGL
      VpcId: !Ref VPCHexGL
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 50989342-31ee-4779-8150-43bff0e446d5
